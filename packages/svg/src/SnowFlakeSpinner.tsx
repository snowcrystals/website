"use client";

import React, { useState, useEffect } from "react";

interface SnowflakeProps {
	size: number;
}

export const SnowflakeSpinner: React.FC<SnowflakeProps> = ({ size }) => {
	const [angle, setAngle] = useState(0);

	useEffect(() => {
		let animationFrame = requestAnimationFrame(function render() {
			setAngle((angle) => angle + 0.5);
			animationFrame = requestAnimationFrame(render);
		});

		return () => {
			cancelAnimationFrame(animationFrame);
		};
	}, []);

	return (
		<svg width={size} height={size} viewBox={`0 0 812 812`} fill="none" xmlns="http://www.w3.org/2000/svg">
			<g clipPath="url(#clip0_20_31)" transform={`rotate(${angle},406,406)`}>
				<mask id="mask0_20_31" style={{ maskType: "luminance" }} maskUnits="userSpaceOnUse" x="55" y="55" width="701" height="701">
					<path d="M755.922 55.4937H55.4933V755.923H755.922V55.4937Z" fill="white" />
				</mask>
				<g mask="url(#mask0_20_31)">
					<path
						d="M425.164 592.217L425.165 219.219L519.1 125.264C519.1 125.264 532.855 111.509 519.1 97.7329C505.345 83.9776 491.588 97.7333 491.588 97.7333L425.165 164.177L425.165 74.95C425.165 74.95 425.164 55.4937 405.708 55.4937C386.252 55.4936 386.252 74.9501 386.252 74.9501L386.252 164.177L319.828 97.7334C319.828 97.7334 306.072 83.9777 292.317 97.7333C278.561 111.508 292.317 125.264 292.317 125.264L386.252 219.219L386.252 592.217L292.317 686.153C292.317 686.153 278.561 699.909 292.316 713.664C306.072 727.419 319.828 713.664 319.828 713.664L386.252 647.24L386.252 736.467C386.252 736.467 386.252 755.923 405.708 755.923C425.165 755.923 425.164 736.467 425.164 736.467L425.165 647.24L491.589 713.664C491.589 713.664 505.344 727.419 519.1 713.663C532.856 699.908 519.1 686.152 519.1 686.152L425.164 592.217Z"
						fill="#73A2FE"
					/>
					<path
						d="M729.112 461.47C724.073 442.675 705.277 447.715 705.277 447.715L576.963 482.094L253.929 295.585L219.55 167.271C219.55 167.271 214.51 148.475 195.716 153.514C176.901 158.554 181.96 177.349 181.96 177.349L206.281 268.094L129 223.46C129 223.46 112.151 213.732 102.422 230.582C92.694 247.431 109.543 257.159 109.543 257.159L186.805 301.772L96.0602 326.073C96.0602 326.073 77.2458 331.113 82.3045 349.908C87.3436 368.722 106.138 363.682 106.138 363.682L234.473 329.303L557.507 515.812L591.887 644.146C591.887 644.146 596.925 662.941 615.721 657.902C634.516 652.843 629.476 634.068 629.476 634.068L605.156 543.323L682.436 587.936C682.436 587.936 699.305 597.665 709.033 580.835C718.761 563.966 701.893 554.239 701.893 554.239L624.631 509.625L715.356 485.324C715.356 485.304 734.151 480.265 729.112 461.47Z"
						fill="#73A2FE"
					/>
					<path
						d="M715.357 326.073L624.612 301.753L701.893 257.139C701.893 257.139 718.762 247.392 709.033 230.543C699.286 213.673 682.436 223.421 682.436 223.421L605.175 268.015L629.476 177.291C629.476 177.291 634.515 158.495 615.72 153.457C596.926 148.418 591.886 167.212 591.886 167.212L557.506 295.527L234.453 482.094L106.158 447.695C106.158 447.695 87.3632 442.656 82.324 461.451C77.2653 480.265 96.0795 485.284 96.0795 485.284L186.804 509.585L109.543 554.199C109.543 554.199 92.7137 563.947 102.442 580.796C112.17 597.626 129 587.898 129 587.898L206.28 543.284L181.96 634.009C181.96 634.009 176.92 652.824 195.716 657.843C214.53 662.902 219.57 644.107 219.57 644.107L253.968 515.753L577.021 329.265L705.336 363.663C705.336 363.663 724.131 368.702 729.17 349.908C734.132 331.093 715.357 326.073 715.357 326.073Z"
						fill="#73A2FE"
					/>
				</g>
			</g>
			<defs>
				<clipPath id="clip0_20_31">
					<rect width="812" height="812" fill="white" />
				</clipPath>
			</defs>
		</svg>
	);
};
